import { FC } from 'react';

import { colors } from 'src/atoms';

import { motion, MotionProps } from 'framer-motion';
import styled from 'styled-components';

const Container = styled.div`
  width: 328px;
  height: 322px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  > svg {
    flex-shrink: 0;
    > path:nth-last-child(4) {
      filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.25));
    }
    > path {
      filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.5));
    }
  }
`;

const CLIP_ANIMATIONS: MotionProps[] = [
  {
    animate: { x: [0, -10, 0] },
    transition: { duration: 2, repeat: Infinity },
  },
  {
    animate: { x: [0, 10, 0] },
    transition: { duration: 2, repeat: Infinity },
  },
  {
    animate: { x: [0, -50, 0] },
    transition: { duration: 3, repeat: Infinity },
  },
];

interface IllustrationProps {
  color?: string;
}

export const Illustration: FC<IllustrationProps> = ({
  color = colors.interactive.primary__resting.rgba,
}) => (
  <Container>
    <svg
      width="1015"
      height="713"
      viewBox="0 0 1015 713"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <rect width="1015" height="713" fill="#000000" />
      <motion.path
        d="M0.375 0.375H1014.62V712.625H0.375V0.375ZM550.328 336.452C550.328 321.1 543.164 312.058 534.714 307.716C530.499 305.55 525.971 304.557 521.869 304.527C517.772 304.498 514.068 305.429 511.519 307.146C501.601 313.828 471.698 340.521 468.446 381.611C467.631 391.904 469.614 399.528 473.335 404.911C477.057 410.296 482.489 413.399 488.491 414.698C500.469 417.291 514.784 412.721 522.582 404.707C525.107 402.112 526.038 399.073 526.173 395.816C526.308 392.584 525.659 389.113 525.009 385.633L525.004 385.608C523.904 379.722 522.812 373.812 525.178 368.592C527.404 363.68 532.243 359.516 537.149 355.304L537.164 355.291C540.428 352.489 543.711 349.669 546.177 346.624C548.649 343.569 550.328 340.252 550.328 336.452Z"
        fill="#626262"
        stroke="#A8A8A8"
        strokeWidth="0.75"
        {...CLIP_ANIMATIONS[0]}
      />
      <motion.path
        d="M0.375 0.375H1014.62V712.625H0.375V0.375ZM562.579 337.97C562.579 317.489 556.48 303.073 545.857 296.246C535.225 289.413 520.214 290.279 502.621 300.006C485.077 309.707 472.098 319.061 464.659 331.644C457.211 344.243 455.352 360.015 459.894 382.47C464.442 404.959 475.825 419.249 488.737 425.225C501.659 431.204 516.062 428.828 526.521 418.08C533.457 410.952 533.517 402.989 533.579 394.686L533.579 394.643C533.627 388.257 533.68 381.66 536.739 374.911C539.727 368.318 544.775 363.839 549.662 359.51L549.704 359.473C556.28 353.646 562.579 348.067 562.579 337.97Z"
        fill="#989898"
        stroke="#A8A8A8"
        strokeWidth="0.75"
        {...CLIP_ANIMATIONS[1]}
      />
      <path
        d="M1015 0H0V713H1015V0ZM506.585 440.177C471.37 448.728 445.153 377.321 451.131 336.474C457.109 295.627 510.255 283.911 543.431 284.876C576.607 285.84 577.788 321.732 576.559 337.747C575.853 346.954 568.84 353.917 561.904 360.805C556.775 365.898 551.687 370.95 549.224 376.837C547.951 379.88 547.066 384.187 546.044 389.156C542.419 406.794 537.08 432.773 506.585 440.177Z"
        fill="#BDBDBD"
        stroke="#A8A8A8"
        strokeWidth="0.75"
      />
      <path
        d="M0.375 0.375H1014.62V712.625H0.375V0.375ZM441.311 309.457C432.264 324.737 431.017 342.894 432.97 360.277C434.922 377.656 440.079 394.31 443.889 406.613L443.892 406.623L444.296 407.93C448.084 420.176 454.916 433.836 466.26 443.071C477.623 452.321 493.474 457.098 515.208 451.629C529.561 448.018 538.479 441.24 544.538 433.227C550.581 425.236 553.767 416.03 556.687 407.594L556.696 407.57C559.719 398.834 562.448 390.978 567.699 385.957C572.311 381.548 577.396 378.631 582.355 375.788L582.383 375.772C588.238 372.414 593.93 369.151 598.308 363.646C602.703 358.12 605.749 350.374 606.408 338.085C608.288 303.018 570.37 265.892 518.28 269.678C492.33 271.564 477.655 273.738 467.183 279.346C456.689 284.965 450.457 294.011 441.311 309.457Z"
        fill={colors.ui.background__light.hex}
        stroke="#A8A8A8"
        strokeWidth="0.75"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M0.0234375 713.113L0.0240688 0.00248903L1015.03 0.00244141V713.113H0.0234375ZM579.032 354.757C598.16 354.757 613.667 339.25 613.667 320.122C613.667 300.994 598.16 285.487 579.032 285.487C559.904 285.487 544.397 300.994 544.397 320.122C544.397 339.25 559.904 354.757 579.032 354.757ZM489.261 260.291C447.313 255.93 424.193 301.451 420.362 343.451C415.265 399.342 464.624 459.537 519.45 447.54C549.769 440.906 583.849 426.641 579.83 395.866C578.233 383.643 569.67 378.317 560.518 372.624C553.413 368.204 545.952 363.564 541.12 355.304C533.131 341.65 533.195 327.646 533.255 314.127C533.315 300.819 533.373 287.98 525.747 276.404C517.179 263.396 504.754 261.901 489.261 260.291Z"
        fill={colors.ui.background__medium.rgba}
      />

      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M1015 0H0L0.000196621 713H1015V0ZM380.899 340.754C374.837 351.113 373.607 358.417 372.75 370.388C369.319 418.337 417.659 439.092 463.504 453.549C516.008 470.105 580.319 476.324 601.672 425.582C605.202 417.195 604.753 409.762 604.307 402.363C603.849 394.777 603.393 387.227 607.229 378.723C612.242 367.608 623.629 363.094 634.404 358.823C646.848 353.889 658.477 349.279 658.533 335.198C658.592 320.219 652.019 311.742 642.049 300.563C630.092 287.157 620.008 281.857 601.672 278.523C573.259 273.357 557.288 270.146 529.625 261.854C521.925 259.546 515.778 256.386 509.932 253.38C500.672 248.619 492.165 244.246 479.432 244.259C461.787 244.277 450.115 246.327 436.093 257.038C421.184 268.426 418.351 280.033 415.492 291.742C413.307 300.69 411.108 309.698 403.495 318.714C400.076 322.764 396.571 325.439 393.19 328.019C388.71 331.438 384.449 334.69 380.899 340.754ZM393.846 292.076C393.846 303.021 385.055 311.894 374.212 311.894C363.368 311.894 354.578 303.021 354.578 292.076C354.578 281.131 363.368 272.259 374.212 272.259C385.055 272.259 393.846 281.131 393.846 292.076Z"
        fill={colors.ui.background__light.rgba}
      />
      <rect
        width="1015"
        height="713"
        fill={color}
        mask="url(#color-mask)"
        style={{ mixBlendMode: 'multiply' }}
      />
      <rect
        width="1015"
        height="713"
        filter="url(#nnnoise-filter)"
        mask="url(#noise-mask)"
      />
      <defs>
        <mask id="color-mask">
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M1015 0H0V713H0.0234376L0.0234375 713.113H1015.03V0.00244141L1015 0.00244141V0ZM1015 0.00244141L0.0240688 0.00248903L0.0234376 713H1015V0.00244141ZM613.667 320.122C613.667 339.25 598.16 354.757 579.032 354.757C559.904 354.757 544.397 339.25 544.397 320.122C544.397 300.994 559.904 285.487 579.032 285.487C598.16 285.487 613.667 300.994 613.667 320.122ZM420.362 343.451C424.193 301.451 447.313 255.93 489.261 260.291C504.754 261.901 517.179 263.396 525.747 276.404C533.373 287.98 533.315 300.819 533.255 314.127C533.195 327.646 533.131 341.65 541.12 355.304C545.952 363.564 553.413 368.204 560.518 372.624C569.67 378.317 578.233 383.643 579.83 395.866C583.849 426.641 549.769 440.906 519.45 447.54C464.625 459.537 415.265 399.342 420.362 343.451Z"
            fill="white"
          />
        </mask>
        <mask id="noise-mask">
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M372.75 370.388C373.606 358.417 374.837 351.113 380.899 340.754C384.448 334.69 388.709 331.438 393.19 328.019C396.57 325.439 400.076 322.764 403.495 318.714C411.108 309.698 413.307 300.69 415.491 291.742C418.35 280.033 421.184 268.426 436.092 257.038C450.115 246.327 461.786 244.277 479.432 244.259C492.164 244.246 500.671 248.619 509.932 253.38L509.933 253.381C515.779 256.386 521.925 259.546 529.624 261.854C557.288 270.146 573.258 273.357 601.672 278.523C620.008 281.857 630.091 287.157 642.048 300.563C652.019 311.742 658.591 320.219 658.532 335.198C658.477 349.279 646.848 353.89 634.403 358.823C623.628 363.094 612.242 367.608 607.228 378.723C603.393 387.227 603.848 394.777 604.306 402.363C604.753 409.762 605.201 417.195 601.672 425.582C580.319 476.324 516.008 470.105 463.504 453.549C417.658 439.092 369.318 418.337 372.75 370.388ZM374.211 311.894C385.055 311.894 393.846 303.021 393.846 292.076C393.846 281.131 385.055 272.259 374.211 272.259C363.368 272.259 354.577 281.131 354.577 292.076C354.577 303.021 363.368 311.894 374.211 311.894Z"
            fill="white"
          />
        </mask>
        <filter
          id="nnnoise-filter"
          x="-20%"
          y="-20%"
          width="140%"
          height="140%"
          filterUnits="objectBoundingBox"
          primitiveUnits="userSpaceOnUse"
          colorInterpolationFilters="linearRGB"
        >
          <feTurbulence
            type="turbulence"
            baseFrequency="0.2"
            numOctaves="4"
            seed="15"
            stitchTiles="stitch"
            x="0%"
            y="0%"
            width="100%"
            height="100%"
            result="turbulence"
          ></feTurbulence>
          <feSpecularLighting
            surfaceScale="40"
            specularConstant="2.3"
            specularExponent="20"
            lightingColor="#441c7b"
            x="0%"
            y="0%"
            width="100%"
            height="100%"
            in="turbulence"
            result="specularLighting"
          >
            <feDistantLight azimuth="3" elevation="54"></feDistantLight>
          </feSpecularLighting>
          <feColorMatrix
            type="saturate"
            values="0"
            x="0%"
            y="0%"
            width="100%"
            height="100%"
            in="specularLighting"
            result="colormatrix"
          ></feColorMatrix>
        </filter>
      </defs>
    </svg>
  </Container>
);
